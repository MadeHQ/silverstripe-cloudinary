---
Name: cloudinary
After: 'framework/*','cms/*'
---
# YAML configuration for SilverStripe
# See http://doc.silverstripe.org/framework/en/topics/configuration
# Caution: Indentation through two spaces, not tabs
ReportAdmin:
  extensions:
    - SS_ReportExtension
CloudinaryUtils:
  settings:
    CloudName: ''
    APIKey: ''
    APISecret: ''
    Quality: 70
    UploadPreset: ''

CloudinaryUploadField:
  defaultConfig:
    autoUpload: true
    allowedMaxFileNumber: 100
    canUpload: true
    canAttachExisting: 'CMS_ACCESS_Cloudinary'
    canPreviewFolder: true
    previewMaxWidth: 80
    previewMaxHeight: 60
    uploadTemplateName: 'ss-uploadfield-uploadtemplate'
    downloadTemplateName: 'ss-cloudinary-uploadfield-downloadtemplate'
    overwriteWarning: true # Warning before overwriting existing file (only relevant when Upload: replaceFile is true)

CloudinaryAdmin:
  max_results: 100
  file_data_cache_length: 3600 # 1 hour
  # These are the fields that will populate the "Meta" data on the `getfiledata` fall
  #   If there is an array of fields then only the first that returns a value will be used
  metaDataFieldRelations:
    FileTitle:
      - context.custom.title
      - public_id
    FileDescription:
      - context.custom.description
    Caption:
      - exif.ImageDescription
      - context.custom.caption
    Composer:
      - context.custom.composer
    Credit:
      - exif.Copyright
      - context.custom.alt
    Duration: duration
    Width:
       - image_metadata.ExifImageWidth
       - exif.ExifImageWidth
       - width
    Height:
      - image_metadata.ExifImageHeight
      - height
