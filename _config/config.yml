---
Name: silverstripecloudinary
After:
  - '#assetscore'
  - '#assetadmingraphql-dependencies'
  - '#assetadminthumbnails'
  - '#assetsfieldtypes'
  - '#assetadmin'
  - '#assetadminfield'
---

SilverStripe\Core\Injector\Injector:

  SilverStripe\Assets\Storage\AssetStore:
    class: MadeHQ\Cloudinary\Storage\CloudinaryStorage

  # Need to replace the Image class to overload ImageManipulation trait calls
  SilverStripe\Assets\Image:
    class: MadeHQ\Cloudinary\Model\Image


SilverStripe\Assets\File:
  app_categories:
    image/supported:
      - svg
    image:
      - svg
  allowed_extensions:
    - svg
  extensions:
    - MadeHQ\Cloudinary\Extensions\FileExtension

---
Name: silverstripecloudinary-assetadmin-campaigns
After:
  - '#assetadmincampaigns'
Only:
  moduleexists: 'silverstripe/campaign-admin'
---
SilverStripe\Core\Injector\Injector:
    SilverStripe\AssetAdmin\Forms\FileFormFactory:
        class: MadeHQ\Cloudinary\Forms\FileFormFactory
