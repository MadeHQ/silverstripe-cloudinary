---
Name: silverstripecloudinary
After:
  - '#assetscore'
  - '#assetadmingraphql-dependencies'
  - '#assetadminthumbnails'
  - '#assetsfieldtypes'
  - '#assetadmin'
  - '#assetadminfield'
---

SilverStripe\Core\Injector\Injector:

  SilverStripe\Assets\Storage\AssetStore:
    class: MadeHQ\Cloudinary\Storage\CloudinaryStorage

  # Need to replace the Image class to overload ImageManipulation trait calls
  SilverStripe\Assets\Image:
    class: MadeHQ\Cloudinary\Model\Image


SilverStripe\Assets\File:
  app_categories:
    image/supported:
      - svg
    image:
      - svg
  allowed_extensions:
    - svg
  extensions:
    - MadeHQ\Cloudinary\Extensions\FileExtension

SilverStripe\Assets\Storage\DBFile:
  composite_db:
    PublicID: Varchar(255)
    ResourceType: Varchar(25)
    RemoteData: Text