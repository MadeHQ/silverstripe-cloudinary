webpackJsonp([0],{361:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=n(u),c=r(754),f=n(c),p=r(715),d=n(p),h=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={value:e.value},r}return l(t,e),i(t,[{key:"_getFieldLabel",value:function(){return this.props.label}},{key:"_updateFromURL",value:function(e){var t=this;e.trim()?(0,d.default)("/admin/cloudinary/api/asset-details?url="+encodeURIComponent(e)).then(function(e){return e.json()}).then(function(e){t.setState({value:e})}).catch(function(t){console.log("CloudinaryField::_updateFromURL::errorResponse",e,t)}):this.setState({value:!1})}},{key:"renderTextField",value:function(e,t,r){var n="Form_EditForm_"+this.props.name+"_"+e+"_Holder",o="Form_EditForm_"+this.props.name+"_"+e,a=this.props.name+"["+e+"]",l="title-Form_EditForm_"+this.props.name+"_"+e;return s.default.createElement("div",{id:n,className:"form-group field text"},s.default.createElement("label",{htmlFor:o,id:l,className:"form__field-label"},t),s.default.createElement("div",{className:"form__field-holder"},s.default.createElement("input",{type:"text",name:a,className:"text",id:o,value:r})))}},{key:"renderOtherFields",value:function(){throw new Error('Need to implement "::renderOtherFields()"')}},{key:"render",value:function(){var e=this,t="Form_EditForm_"+this.props.name+"URL"+this.props.name+"Title",r="title-Form_EditForm_"+this.props.name+"URL"+this.props.name+"Title",n=function(){return e._updateFromURL.apply(e,arguments)},o="form-group field CompositeField cloudinary-field-type-"+this.props.fieldType,a="Form_EditForm_"+this.props.name+"_Holder";return s.default.createElement("div",{className:o,id:a},s.default.createElement("label",{htmlFor:t,id:r,className:"form__field-label"},this._getFieldLabel()),s.default.createElement("div",{id:"Form_EditForm_{this.props.name}URL{this.props.name}Title","aria-labelledby":"title-Form_EditForm_{this.props.name}URL{this.props.name}Title",className:"form__fieldgroup form__field-holder"},s.default.createElement(f.default,{name:this.props.name,rightTitle:this.props.rightTitle,onChange:n,value:this.state.value,fieldType:this.props.fieldType}),this.renderOtherFields()))}}]),t}(s.default.Component);h.propTypes={label:s.default.PropTypes.string,name:s.default.PropTypes.string,rightTitle:s.default.PropTypes.string,fieldType:s.default.PropTypes.string,value:s.default.PropTypes.string},t.default=h},362:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={getResourceType:function(e){return e.match(/\w+\/(\w+)\/upload/)[1]},getImageUrl:function(e,t,r,n){var o=[];return t&&o.push("w_"+parseInt(t,10)),r&&o.push("h_"+parseInt(r,10)),n&&o.push("g_"+parseInt(n,10)),o="$1"+o.join(",")+"/",e.replace(/(res\.cloudinary\.com\/[\-\w]+\/\w+\/upload\/)/,o)}};t.default=n},715:function(e,t){e.exports=IsomorphicFetch},716:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=n(u),c=r(361),f=n(c),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"_renderTitleField",value:function(){return this.renderTextField("Title","Title",this.state.value.title)}},{key:"renderOtherFields",value:function(){return s.default.createElement("div",null,this._renderTitleField())}}]),t}(f.default);t.default=p},717:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=n(u),c=r(361),f=n(c),p=r(362),d=n(p),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"_getFieldLabel",value:function(){return this.state.value&&this.state.value.secure_url?s.default.createElement("div",null,this.props.label,s.default.createElement("img",{alt:"Preview Image",src:d.default.getImageUrl(this.state.value.secure_url,150,150),style:{width:"100px",height:"100px"}})):this.props.label}},{key:"_renderCaptionField",value:function(){return this.renderTextField("Caption","Caption",this.state.value.caption)}},{key:"_renderCreditField",value:function(){return this.renderTextField("Credit","Credit",this.state.value.credit)}},{key:"_renderGravityField",value:function(){var e="Gravity",t="Form_EditForm_"+this.props.name+"_"+e+"_Holder",r="Form_EditForm_"+this.props.name+"_"+e,n=this.props.name+"["+e+"]",o="title-Form_EditForm_"+this.props.name+"_"+e;return s.default.createElement("div",{id:t,className:"form-group field text"},s.default.createElement("label",{htmlFor:r,id:o,className:"form__field-label"},"Gravity"),s.default.createElement("div",{className:"form__field-holder"},s.default.createElement("select",{name:n,className:"text",id:r,value:this.state.value.gravity},s.default.createElement("option",{value:"auto"},"Auto"),s.default.createElement("option",{value:"center"},"Center"),s.default.createElement("option",{value:"faces"},"Faces"),s.default.createElement("option",{value:"north"},"Top"),s.default.createElement("option",{value:"north_east"},"Top right"),s.default.createElement("option",{value:"east"},"Right"),s.default.createElement("option",{value:"south_east"},"Bottom right"),s.default.createElement("option",{value:"south"},"Bottom"),s.default.createElement("option",{value:"south_west"},"Bottom left"),s.default.createElement("option",{value:"west"},"Left"),s.default.createElement("option",{value:"north_west"},"Top left"))))}},{key:"renderOtherFields",value:function(){return s.default.createElement("div",null,this._renderCaptionField(),this._renderCreditField(),this._renderGravityField())}}]),t}(f.default);t.default=h},751:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(161),a=n(o),l=r(0),i=n(l),u=r(34),s=n(u),c=r(716),f=n(c),p=r(717),d=n(p);a.default.entwine("ss",function(e){e(".madehq-cloudinary-form-file-field").entwine({onmatch:function(){console.info("Add Cloudinary Field",this);var e=this.data();s.default.render(i.default.createElement(f.default,{name:e.name,fieldType:e.fieldType,label:e.label,value:e.value}),this[0])}}),e(".madehq-cloudinary-form-image-field").entwine({onmatch:function(){console.info("Add Cloudinary Field",this);var e=this.data();s.default.render(i.default.createElement(d.default,{name:e.name,fieldType:e.fieldType,label:e.label,value:e.value}),this[0])}})})},752:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=n(u),c=r(715),f=n(c),p=r(753),d=n(p),h=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={data:{resources:[]}},r}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;(0,f.default)("/admin/cloudinary/api/"+this.props.fieldType+"-list").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({data:t})}).catch(function(e){console.log("CloudinaryBrowser::componentDidMount::errorResponse",e)})}},{key:"doSearch",value:function(){console.log("CloudinaryBrowser::doSearch",this.searchValue),console.error("Cloudinary Search is not supported at the moment")}},{key:"handleChangeSearch",value:function(e){console.log("CloudinaryBrowser::handleChangeSearch",this,e),this.searchValue=e.target.value}},{key:"renderHeader",value:function(){return s.default.createElement("div",{className:"cloudinary-browser-header"},"Cloudinary",s.default.createElement("button",{onClick:this.props.doCloseBrowser},"Close"))}},{key:"renderSearch",value:function(){var e=this;return this.props.enableSearch?s.default.createElement("div",{className:"cloudinary-browser-search"},s.default.createElement("input",{type:"search",onChange:function(t){return e.handleChangeSearch(t)}}),s.default.createElement("button",{onClick:function(t){return e.doSearch(t)}},"Search")):""}},{key:"render",value:function(){var e=this,t=function(t){return function(){e.props.onSelect(t)}},r=function(r){return s.default.createElement(d.default,{item:r,type:e.props.fieldType,onClick:t(r)})};return s.default.createElement("div",{className:function(){return["cloudinary-browser-window","cloudinary-browser-window-type-"+e.props.fieldType]}().join(" ")},this.renderHeader(),this.renderSearch(),s.default.createElement("div",{className:"cloudinary-browser-items"},this.state.data.resources.map(r)))}}]),t}(s.default.Component);h.propTypes={onSelect:s.default.PropTypes.func,fieldType:s.default.PropTypes.string,enableSearch:s.default.PropTypes.bool,doCloseBrowser:s.default.PropTypes.func},t.default=h},753:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=n(u),c=r(362),f=n(c),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"_getPreviewImage",value:function(){return f.default.getImageUrl(this.props.item.secure_url,150,150)}},{key:"_renderImageItem",value:function(){return s.default.createElement("div",{role:"button",tabIndex:"0",onClick:this.props.onClick},s.default.createElement("img",{src:this._getPreviewImage(),alt:""}),s.default.createElement("footer",null,s.default.createElement("dl",null,s.default.createElement("dt",null,"Public ID"),s.default.createElement("dd",null,this.props.item.public_id),s.default.createElement("dt",null,"Created"),s.default.createElement("dd",null,this.props.item.created_at),s.default.createElement("dt",null,"Format"),s.default.createElement("dd",null,this.props.item.format))))}},{key:"_getHumanReadableSize",value:function(){var e=["Bytes","KB","MB","GB","TB"];if(0===this.props.item.bytes)return"0 Byte";var t=parseInt(Math.floor(Math.log(this.props.item.bytes)/Math.log(1024)),10);return Math.round(this.props.item.bytes/Math.pow(1024,t),2)+" "+e[t]}},{key:"_renderFileItem",value:function(){return s.default.createElement("div",{role:"button",tabIndex:"0",onClick:this.props.onClick},s.default.createElement("strong",null,this.props.item.public_id),s.default.createElement("dl",null,s.default.createElement("dt",null,"Created:"),s.default.createElement("dd",null,this.props.item.created_at),s.default.createElement("dt",null,"Size:"),s.default.createElement("dd",null,this._getHumanReadableSize())))}},{key:"render",value:function(){var e=void 0;switch(this.props.type){case"image":e=this._renderImageItem();break;case"audio":e=this._renderAudioItem();break;default:e=this._renderFileItem()}return s.default.createElement("div",{className:"cloudinary-browser-item"},e)}}]),t}(s.default.Component);p.propTypes={item:s.default.PropTypes.object,type:s.default.PropTypes.string,onClick:s.default.PropTypes.func},t.default=p},754:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),s=n(u),c=r(752),f=n(c),p=r(34),d=n(p),h=r(161),m=n(h),y=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={value:e.value?e.value.secure_url:""},r}return l(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value?e.value.secure_url:""})}},{key:"getHolderId",value:function(){return"Form_EditForm_"+this.props.name+"_URL_Holder"}},{key:"getInputId",value:function(){return"Form_EditForm_"+this.props.name+"_URL"}},{key:"getLabelId",value:function(){return"title-Form_EditForm_"+this.props.name+"_URL"}},{key:"getInputName",value:function(){return this.props.name+"[URL]"}},{key:"getPopUp",value:function(){var e=(0,m.default)("#cloudinary-popup-wrapper");return e.length||(e=(0,m.default)('<div id="cloudinary-popup-wrapper" />'),(0,m.default)(document.body).append(e)),e}},{key:"_openBrowser",value:function(){var e=this,t=this.getPopUp(),r=function(){return e._itemSelected.apply(e,arguments)},n=function(){return e._closeBrowser.apply(e,arguments)};d.default.render(s.default.createElement(f.default,{onSelect:r,doCloseBrowser:n,fieldType:this.props.fieldType}),t[0])}},{key:"_closeBrowser",value:function(){this.getPopUp().remove()}},{key:"_itemSelected",value:function(e){this.props.onChange(e.secure_url),this._closeBrowser()}},{key:"_onChange",value:function(e){this.setState({value:e.currentTarget.value})}},{key:"_onBlur",value:function(){this.props.onChange(this.state.value)}},{key:"renderRightTitle",value:function(){return this.props.rightTitle?'<p class="form__field-extra-label" id="extra-label-Form_EditForm_'+this.props.name+'_URL">'+this.props.rightTitle+"</p>":""}},{key:"render",value:function(){var e=this,t=function(){return e._openBrowser.apply(e,arguments)},r=function(){return e._onChange.apply(e,arguments)},n=function(){return e._onBlur.apply(e,arguments)};return s.default.createElement("div",{id:this.getHolderId(),className:"form-group field text"},s.default.createElement("label",{htmlFor:this.getInputId(),id:this.getLabelId(),className:"form__field-label"},"URL"),s.default.createElement("div",{className:"form__field-holder"},s.default.createElement("input",{type:"url",name:this.getInputName(),className:"text",id:this.getInputId(),value:this.state.value,onChange:r,onBlur:n}),s.default.createElement("button",{onClick:t},"Browse")),this.renderRightTitle())}}]),t}(s.default.Component);y.propTypes={fieldType:s.default.PropTypes.string,name:s.default.PropTypes.string,rightTitle:s.default.PropTypes.string,onChange:s.default.PropTypes.func,value:s.default.PropTypes.object},t.default=y}},[751]);